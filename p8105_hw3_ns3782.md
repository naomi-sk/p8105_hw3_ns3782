p8105_hw3_ns3782
================
NSK
2024-10-13

# Problem 1

``` r
# Load libraries and import data

library(p8105.datasets)
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
data("ny_noaa")
```

## Dataset Overview

The NY NOAA dataset contains 2595176 observations of 7 weather related
variables, corresponding to daily weather data collected from 747 unique
weather stations in New York City. The date range of the observations is
from 1981-01-01 to 2010-12-31.

Key variables and their types include: `id` (character, weather station
identifier), `date` (Date, YYYY-MM-DD), `prcp` (integer, precipitation),
`snow` (integer, snowfall), `snwd` (integer, snow depth), `tmax`
(character, maximum temperature), `tmin` (character, minimum
temperature).

Missing data is an issue in this dataset. The total number of missing
values across all variables is 3387623, which represents 18.65% of all
observations in the dataset.

For the id variable, there are 0 missing values (0% of total
observations). The date variable has 0 missing values (0% of total
observations). Precipitation (prcp) has 145838 missing values (5.62% of
total observations). For snowfall (snow), there are 381221 missing
values (14.69% of total observations). Snow depth (snwd) has 591786
missing values (22.8% of total observations). Maximum temperature (tmax)
has 1134358 missing values (43.71% of total observations). Minimum
temperature (tmin) has 1134420 missing values (43.71% of total
observations).

``` r
# Data cleaning

ny_noaa_clean <- ny_noaa %>%
  mutate(
    date = as.Date(date),
    year = lubridate::year(date),
    month = lubridate::month(date),
    day = lubridate::day(date),
    tmax = as.numeric(tmax),
    tmin = as.numeric(tmin) 
  )


# Most common snowfall values
ny_noaa_clean %>%
  count(snow) %>%
  arrange(desc(n)) %>%
  head(5)
```

    ## # A tibble: 5 × 2
    ##    snow       n
    ##   <int>   <int>
    ## 1     0 2008508
    ## 2    NA  381221
    ## 3    25   31022
    ## 4    13   23095
    ## 5    51   18274

## Most Common Snowfall values

The most common snowfall values for NYC are 0 mm (2008508 occurrences),
followed by NA (381221 occurrences). 0 is the most common, likely due to
New York City rarely having snow year round particularly in recent
years, while NA represents missing data. The next most common values are
25, 13, 51 mm, which are 1 inch, 0.5 inch, and 2 inches respectively.
These are indicative of typical light to moderate snowfall events, which
would be expected of New York City during colder months.
